(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{463:function(t,e,r){"use strict";r.r(e);var n=r(33),o=(r(27),r(58),r(102),{components:{GChart:r(423).GChart},data:function(){return{inputPrefname:"",inputCityname:"",prefCode:"",cityCode:"-",chartLabel:"1",chartType:"LineChart",chartData:[],chartOptions:{region:"JP",colors:["#00ACC1"],width:600,height:300},isSuccess:!1,e1:"1",rules:[function(t){return!!t||"必須項目です"}]}},methods:{getPrefCityCode:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,o,i,c,v,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="93MXg0CmseWkxXaDpqRE7IEAksiAWZDEMq6kRNB8",e.next=3,t.$axios.get("https://opendata.resas-portal.go.jp/api/v1/prefectures",{headers:{"X-API-KEY":r}});case 3:for(n=e.sent,o=n.data.result,i=0;i<o.length;i++)o[i].prefName===t.inputPrefname&&(t.prefCode=o[i].prefCode);return e.next=8,t.$axios.get("https://opendata.resas-portal.go.jp/api/v1/cities?prefCode=".concat(t.prefCode),{headers:{"X-API-KEY":r}});case 8:for(c=e.sent,v=c.data.result,l=0;l<v.length;l++)v[l].cityName===t.inputCityname&&(t.cityCode=v[l].cityCode);case 11:case"end":return e.stop()}}),e)})))()},drawChart:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,o,c,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="93MXg0CmseWkxXaDpqRE7IEAksiAWZDEMq6kRNB8",e.next=3,t.getPrefCityCode();case 3:return e.prev=3,e.next=6,t.$axios.get("https://opendata.resas-portal.go.jp/api/v1/population/sum/estimate?cityCode=".concat(t.cityCode,"&prefCode=").concat(t.prefCode),{headers:{"X-API-KEY":r}});case 6:for(n=e.sent,console.log(n),o=n.data.result.data[t.chartLabel].data,c=o.map((function(t){return[t.year,t.value]})),t.chartData=[["年","(人)"]],i=0;i<c.length;i++)t.chartData.push(c[i]);console.log(o),t.isSuccess=!0,e.next=20;break;case 16:e.prev=16,e.t0=e.catch(3),console.log("エラーが起こりました"),t.isSuccess=!1;case 20:case"end":return e.stop()}}),e,null,[[3,16]])})))()},moveTwo:function(){this.inputPrefname&&(this.e1=2)}},computed:{buttonColor:function(){return this.inputPrefname?"primary":"gray"}}}),c=r(89),v=r(121),l=r.n(v),f=r(261),d=r(469),m=r(400),_=r(399),h=r(458),C=r(459),x=r(178),y=r(460),k=r(415),w=r(416),S=r(397),V=r(417),P=r(461),j=r(462),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-stepper",{model:{value:t.e1,callback:function(e){t.e1=e},expression:"e1"}},[r("v-stepper-header",[r("v-stepper-step",{attrs:{complete:t.e1>1,step:"1"}},[t._v("地域")]),t._v(" "),r("v-divider"),t._v(" "),r("v-stepper-step",{attrs:{complete:t.e1>2,step:"2"}},[t._v("\n        表示データ\n      ")]),t._v(" "),r("v-divider"),t._v(" "),r("v-stepper-step",{attrs:{step:"3"}},[t._v("グラフ")])],1),t._v(" "),r("v-stepper-items",[r("v-stepper-content",{attrs:{step:"1"}},[r("v-row",[r("v-col",[r("v-text-field",{attrs:{rules:t.rules,counter:10,label:"都道府県"},model:{value:t.inputPrefname,callback:function(e){t.inputPrefname=e},expression:"inputPrefname"}})],1)],1),t._v(" "),r("v-row",[r("v-col",[r("v-text-field",{attrs:{counter:30,label:"市区町村"},model:{value:t.inputCityname,callback:function(e){t.inputCityname=e},expression:"inputCityname"}})],1)],1),t._v(" "),r("v-row",{staticStyle:{height:"60px"},attrs:{"no-gutters":"",align:"end",justify:"end"}},[r("v-btn",{attrs:{color:t.buttonColor},on:{click:function(e){return t.moveTwo()}}},[t._v("決定")]),t._v(" "),r("v-btn",{attrs:{text:""},on:{click:function(e){t.inputPrefname="",t.inputCityname=""}}},[t._v("クリア")])],1)],1),t._v(" "),r("v-stepper-content",{attrs:{step:"2"}},[r("v-card",{staticClass:"py-12",attrs:{flat:""}},[r("v-card-text",[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-btn-toggle",{attrs:{mandatory:""}},[r("div",[r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[r("v-btn",t._g(t._b({staticClass:"mx-8",attrs:{fab:"","x-large":""},on:{click:function(e){t.chartLabel=0}}},"v-btn",o,!1),n),[r("v-icon",{attrs:{"x-large":""}},[t._v("mdi-human-male-female")])],1)]}}])},[t._v(" "),r("span",[t._v("総人口")])])],1),t._v(" "),r("div",[r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[r("v-btn",t._g(t._b({staticClass:"mx-8",attrs:{fab:"","x-large":""},on:{click:function(e){t.chartLabel=3}}},"v-btn",o,!1),n),[r("v-icon",{attrs:{"x-large":""}},[t._v("mdi-baby")])],1)]}}])},[t._v(" "),r("span",[t._v("出生数")])])],1),t._v(" "),r("div",[r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[r("v-btn",t._g(t._b({staticClass:"mx-8",attrs:{fab:"","x-large":""},on:{click:function(e){t.chartLabel=4}}},"v-btn",o,!1),n),[r("v-icon",{attrs:{"x-large":""}},[t._v("mdi-coffin")])],1)]}}])},[t._v(" "),r("span",[t._v("死亡数")])])],1),t._v(" "),r("div",[r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[r("v-btn",t._g(t._b({staticClass:"mx-8",attrs:{fab:"","x-large":""},on:{click:function(e){t.chartLabel=1}}},"v-btn",o,!1),n),[r("v-icon",{attrs:{"x-large":""}},[t._v("mdi-airplane-landing")])],1)]}}])},[t._v(" "),r("span",[t._v("転入数")])])],1),t._v(" "),r("div",[r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[r("v-btn",t._g(t._b({staticClass:"mx-8",attrs:{fab:"","x-large":""},on:{click:function(e){t.chartLabel=2}}},"v-btn",o,!1),n),[r("v-icon",{attrs:{"x-large":""}},[t._v("mdi-airplane-takeoff")])],1)]}}])},[t._v(" "),r("span",[t._v("転出数")])])],1)])],1)],1)],1),t._v(" "),r("v-row",{staticStyle:{height:"60px"},attrs:{"no-gutters":"",align:"end",justify:"end"}},[r("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.e1=3,t.drawChart()}}},[t._v("\n            決定\n          ")]),t._v(" "),r("v-btn",{attrs:{text:""},on:{click:function(e){t.e1=1}}},[t._v("ひとつ戻る")])],1)],1),t._v(" "),r("v-stepper-content",{attrs:{step:"3"}},[this.isSuccess?r("v-row",{attrs:{justify:"center"}},[r("GChart",{attrs:{type:t.chartType,data:t.chartData,options:t.chartOptions}})],1):t._e(),t._v(" "),r("v-row",{staticStyle:{height:"60px"},attrs:{"no-gutters":"",align:"end",justify:"end"}},[r("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.e1=1}}},[t._v("最初から")]),t._v(" "),r("v-btn",{attrs:{text:""},on:{click:function(e){t.e1=2}}},[t._v("ひとつ戻る")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;l()(component,{VBtn:f.a,VBtnToggle:d.a,VCard:m.a,VCardText:_.b,VCol:h.a,VDivider:C.a,VIcon:x.a,VRow:y.a,VStepper:k.a,VStepperContent:w.a,VStepperHeader:S.a,VStepperItems:S.b,VStepperStep:V.a,VTextField:P.a,VTooltip:j.a})}}]);